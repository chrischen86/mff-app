{"version":3,"sources":["components/hooks/useCharacterBonus.tsx","components/hooks/useCharactersMetadata.tsx","components/hooks/useFragmentsMetadata.tsx","components/hooks/useStagesMetadata.tsx","components/SiteAppBar.tsx","context/createCtx.tsx","context/filterContext.tsx","assets/images/energyImmune.svg","context/metadataContext.tsx","filters/timeFilters.tsx","filters/filterColours.tsx","filters/storyFilters.tsx","filters/index.tsx","components/hooks/useFilteredData.tsx","components/hooks/useFilters.tsx","components/hooks/useLocalStorage.tsx","components/hooks/useRoster.tsx","components/hooks/useStageGroupedData.tsx","components/TableFilterSection.tsx","components/TableToolbar.tsx","pages/autoplay/CharacterTextLabel.tsx","pages/autoplay/dealerCalculator.ts","assets/images/physicalImmune.svg","assets/images/nonelementalImmune.svg","assets/images/reflect.svg","pages/autoplay/StageBonusIcon.tsx","pages/autoplay/LeaderTable.tsx","pages/autoplay/CharacterSelector.tsx","pages/autoplay/TeamSelector.tsx","pages/autoplay/LeaderTableConcise.tsx","pages/autoplay/TeamSelectorBar.tsx","pages/autoplay/AutoplayPage.tsx","pages/manage/RosterManagement.tsx","pages/manage/ManagePage.tsx","components/FilterSection.tsx","components/AreaBumpChart.tsx","components/BarChart.tsx","components/hooks/useRankTableData.tsx","components/hooks/useAreaBumpData.tsx","components/hooks/useBarChartData.tsx","components/GraphCard.tsx","components/RankTable.tsx","components/RankTableCard.tsx","pages/stats/StatsPage.tsx","pages/HomePage.tsx","filters/fragmentFilters.tsx","theme.js","App.tsx","reportWebVitals.ts","index.tsx"],"names":["useCharacterBonus","useQuery","fetch","res","json","useCharactersMetadata","useFragmentMetadata","useStagesMetadata","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","button","color","palette","getContrastText","primary","main","SiteAppBar","classes","showTextButtons","useMediaQuery","breakpoints","up","AppBar","position","Toolbar","Typography","variant","className","IconButton","component","RouterLink","to","Button","size","target","href","createCtx","reducer","initialState","ctx","React","createContext","state","dispatch","props","useReducer","Provider","value","_g","action","type","filters","undefined","find","f","id","filterId","map","enabled","filter","s","Error","FilterProvider","FilterContext","stages","characters","fragments","data","distinctDates","d","i","arr","findIndex","t","date","Date","sort","a","b","getTime","currentMonth","length","toISOString","stories","MetadataProvider","MetadataContext","currentMonthFilter","label","canDelete","predicate","term","metadata","theDate","current","getMonth","getFullYear","timeFilters","filterColourMap","dimensionalClashdFilter","stageId","colour","trueShieldFilter","allWarFilter","futureEndsHereFilter","storyFilters","allFilters","useFilteredData","useContext","useState","filteredData","setFilteredData","useEffect","enabledFilters","fragmentFilters","startsWith","enabledFragmentFilters","some","filterGroups","every","fg","ef","filterData","setFilterState","filterDisabled","useFilters","setFilters","enableFilter","useCallback","disableFilter","useLocalStorage","key","defaultValue","saved","localStorage","getItem","JSON","parse","getStorageValue","setValue","setItem","stringify","defaultRoster","unowned","useRoster","roster","setRoster","setOwned","characterId","isOwned","hasOwnProperty","useStageGroupedData","groupedData","setGroupData","preparedData","Array","from","reduce","acc","val","character","c","stage","currentStageGroupedItem","get","set","characterId1","character1","characterId2","characterId3","character2","character3","Map","prepare","toolbar","backgroundColor","padding","paddingLeft","paddingBottom","marginTop","minHeight","display","flexWrap","chip","margin","chipHidden","TableFilterSection","onFilterClick","clsx","Chip","hidden","onClick","handleClick","style","useToolbarStyles","paddingRight","flex","TableToolbar","CharacterTextLabel","name","dealerCalculator","stageData","team","dealerSlot","designatedArray","trackUsed","currentCharacter","position1","position2","position3","indexOf","teamCharacter","designatedIndex","activeCharacter","_excluded","_extends","Object","assign","bind","arguments","source","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgEnergyImmune","_ref","svgRef","titleId","xmlns","width","height","viewBox","preserveAspectRatio","ref","transform","fill","stroke","ForwardRef","SvgPhysicalImmune","SvgNonelementalImmune","SvgReflect","StageBonusIcon","bonus","Tooltip","Badge","overlap","paper","marginBottom","stageBonus","paddingTop","lineHeight","leader","light","red","unownedLabel","error","textDecoration","timeFilter","LeaderTable","dealer","Paper","TableContainer","Table","TableHead","TableRow","TableCell","fontWeight","TableBody","row","leadCalculator","characterArray","hover","subStage","CharacterSelector","onCharacterChange","Autocomplete","onChange","event","options","getOptionLabel","option","renderInput","params","TextField","selects","flexDirection","gap","select","TeamSelector","onTeamChange","onDealerChange","setTeam","handleRadioChange","parseInt","index","Radio","checked","inputProps","updatedTeam","handleCharacterChange","designated","typography","LeaderTableConcise","createStyles","stickToBottom","bottom","marginLeft","actionLabel","TeamSelectorBar","anchorEl","setAnchorEl","currentPosition","setCurrentPosition","handleActionClick","currentTarget","handleClose","BottomNavigation","showLabels","newValue","BottomNavigationAction","selected","Menu","keepMounted","open","Boolean","onClose","MenuItem","AutoplayPage","isLoading","showFullTable","selectedDealer","setSelectedDealer","teamCharacters","setTeamCharacters","handleTeamChange","handleDealerChange","Grid","container","item","sm","md","table","minWidth","visuallyHidden","border","clip","overflow","top","RosterManagement","advancementType","Switch","ManagePage","transition","transitions","create","easing","easeInOut","duration","short","toolbarHidden","easeIn","FilterSection","visible","isVisible","setIsVisible","onDelete","chipId","forEach","AreaBumpChart","areaBumpData","right","left","colors","scheme","blendMode","startLabel","axisTop","tickSize","tickPadding","tickRotation","legend","legendPosition","legendOffset","format","moment","axisBottom","getColour","bar","BarChart","memo","flatMap","Set","k","getKeys","indexBy","axisLeft","e","Math","floor","valueScale","labelSkipWidth","labelSkipHeight","labelTextColor","useRankTableData","rankData","setRankData","currentCount","characterName","count","useAreaBumpData","setAreaBumpData","top10","slice","areaData","uniqueDates","usageData","x","y","dataPoint","updatedDataPoint","story","currentCharacterItem","barCountItem","storyCharacterCount","useBarChartData","barData","setBarData","graphContainer","justifyContent","alignItems","graphSkeleteon","GraphCard","metadataContext","filterContext","showTreemap","Skeleton","tableContainer","RankTable","rankedData","stickyHeader","align","scope","card","cardContent","float","contentContainer","RankTableCard","Card","CardHeader","animation","CardContent","_val","Fragment","StatsPage","lg","xs","HomePage","filterDispatch","stageMetadata","isStageMetadataLoading","characterMetadata","isCharacterMetadataLoading","fragmentMetadata","isFragmentMetadataLoading","isDataLoading","fragment","stageIds","includes","path","element","createMuiTheme","purple","secondary","green","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","App","client","ThemeProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.80ab2521.chunk.js","sourcesContent":["import { useQuery } from 'react-query';\n\nconst useCharacterBonus = () => {\n  return useQuery('characterBonus', async () => {\n    const res = await fetch(\n      'https://chrischen86.github.io/mff-data/selectedcharacterbonus.json'\n    );\n    return res.json();\n  });\n};\n\nexport default useCharacterBonus;\n","import { useQuery } from 'react-query';\n\nconst useCharactersMetadata = () => {\n  return useQuery('characters', async () => {\n    const res = await fetch(\n      'https://chrischen86.github.io/mff-data/characters.json'\n    );\n    return res.json();\n  });\n};\n\nexport default useCharactersMetadata;\n","import { useQuery } from 'react-query';\n\nconst useFragmentMetadata = () => {\n  return useQuery('fragments', async () => {\n    const res = await fetch(\n      'https://chrischen86.github.io/mff-data/fragments.json'\n    );\n    return res.json();\n  });\n};\n\nexport default useFragmentMetadata;\n","import { useQuery } from 'react-query';\n\nconst useStagesMetadata = () => {\n  return useQuery('stages', async () => {\n    const res = await fetch(\n      'https://chrischen86.github.io/mff-data/stages.json'\n    );\n    return res.json();\n  });\n};\n\nexport default useStagesMetadata;\n","import {\n  AppBar,\n  Button,\n  IconButton,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport GroupIcon from '@material-ui/icons/Group';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  button: {\n    color: theme.palette.getContrastText(theme.palette.primary.main),\n  },\n}));\n\nconst SiteAppBar = ({ title = '' }: { title?: string }) => {\n  const classes = useStyles();\n  const showTextButtons = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.up('sm')\n  );\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          {title}\n        </Typography>\n        {!showTextButtons && (\n          <>\n            <IconButton\n              component={RouterLink}\n              to={'/'}\n              className={classes.button}\n            >\n              <BarChartIcon />\n            </IconButton>\n            <IconButton\n              component={RouterLink}\n              to={'/autoplay'}\n              className={classes.button}\n            >\n              <PlayArrowIcon />\n            </IconButton>\n            <IconButton\n              component={RouterLink}\n              to={'/manage'}\n              className={classes.button}\n            >\n              <GroupIcon />\n            </IconButton>\n          </>\n        )}\n        {showTextButtons && (\n          <>\n            <Button\n              component={RouterLink}\n              to={'/'}\n              variant={'text'}\n              className={classes.button}\n              size={'large'}\n            >\n              Stats\n            </Button>\n            <Button\n              component={RouterLink}\n              to={'/autoplay'}\n              variant={'text'}\n              className={classes.button}\n              size={'large'}\n            >\n              Autoplay\n            </Button>\n            <Button\n              component={RouterLink}\n              to={'/manage'}\n              variant={'text'}\n              className={classes.button}\n              size={'large'}\n            >\n              Manage\n            </Button>\n          </>\n        )}\n        <IconButton\n          color=\"inherit\"\n          target=\"_blank\"\n          href={'https://github.com/chrischen86/mff-app'}\n        >\n          <GitHubIcon />\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default SiteAppBar;\n","import React from 'react';\n\nexport default function createCtx<StateType, ActionType>(\n  reducer: React.Reducer<StateType, ActionType>,\n  initialState: StateType\n) {\n  const defaultDispatch: React.Dispatch<ActionType> = () => initialState; // we never actually use this\n  const ctx = React.createContext({\n    state: initialState,\n    dispatch: defaultDispatch, // just to mock out the dispatch type and make it not optioanl\n  });\n\n  function Provider(props: React.PropsWithChildren<{}>) {\n    const [state, dispatch] = React.useReducer<\n      React.Reducer<StateType, ActionType>\n    >(reducer, initialState);\n    return <ctx.Provider value={{ state, dispatch }} {...props} />;\n  }\n  return [ctx, Provider] as const;\n}\n","import createCtx from './createCtx';\nimport { Filter } from '../filters/types';\n\nconst initialState: { filters: Filter[] } = {\n  filters: [],\n};\ntype FilterState = typeof initialState;\ntype Action =\n  | { type: 'add'; filters: Filter[] }\n  | { type: 'remove'; filters: Filter[] }\n  | { type: 'enable'; filterId: string }\n  | { type: 'disable'; filterId: string };\n\nconst reducer = (state: FilterState, action: Action): FilterState => {\n  switch (action.type) {\n    case 'add':\n      return {\n        ...state,\n        filters: action.filters,\n      };\n    case 'enable':\n    case 'disable': {\n      const filter = state.filters.find((f) => f.id === action.filterId);\n      if (filter === undefined) {\n        return state;\n      }\n\n      return {\n        ...state,\n        filters: state.filters.map((f) => {\n          return f.id === action.filterId\n            ? {\n                ...f,\n                enabled: action.type === 'disable' ? false : true,\n              }\n            : f;\n        }),\n      };\n    }\n    case 'remove':\n      return {\n        ...state,\n        filters: [\n          ...state.filters.filter((f) =>\n            action.filters.find((s) => s.id === f.id)\n          ),\n        ],\n      };\n    default:\n      throw new Error(`Uknown action type provided`);\n  }\n};\n\nconst [ctx, FilterProvider] = createCtx(reducer, initialState);\nexport const FilterContext = ctx;\n\nexport default FilterProvider;\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEnergyImmune(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"48.000000pt\",\n    height: \"47.000000pt\",\n    viewBox: \"0 0 48.000000 47.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,47.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M165 409 c-48 -18 -102 -76 -115 -125 -36 -129 50 -244 182 -244 65 0 112 22 152 73 25 31 31 49 34 102 5 77 -20 130 -80 172 -44 30 -123 40 -173 22z m163 -46 c53 -42 74 -87 69 -150 -7 -98 -81 -159 -183 -151 -62 5 -107 35 -134 88 -23 46 -15 55 38 45 41 -8 65 -23 56 -36 -3 -5 7 -9 22 -9 26 0 26 -1 11 -18 -23 -25 -21 -35 2 -22 29 15 51 12 51 -7 0 -13 5 -12 26 8 31 29 64 90 64 119 0 29 -33 90 -64 119 l-26 24 0 -22 c0 -24 -6 -24 -55 -6 -16 7 -18 6 -7 -6 18 -20 15 -39 -8 -39 -12 0 -17 -5 -14 -14 4 -9 -10 -16 -48 -24 -29 -5 -56 -8 -60 -6 -10 6 25 74 48 96 64 57 148 62 212 11z m-24 -109 c19 -19 20 -36 4 -52 -16 -16 -43 -15 -58 3 -7 8 -21 15 -32 15 -10 0 -16 5 -13 10 3 6 13 10 21 10 9 0 22 7 30 15 19 19 29 19 48 -1z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEnergyImmune);\nexport default __webpack_public_path__ + \"static/media/energyImmune.6cf091d7.svg\";\nexport { ForwardRef as ReactComponent };","import {\n  Character,\n  Stage,\n  SelectedCharacterBonus,\n  Metadata,\n  StoryFragment,\n} from '../types';\nimport createCtx from './createCtx';\n\nconst initialState: Metadata = {\n  stages: [],\n  characters: [],\n  stories: [],\n  fragments: [],\n  currentMonth: undefined,\n};\n\ntype MetadataState = typeof initialState;\ntype Action =\n  | { type: 'setStages'; stages: Stage[] }\n  | { type: 'setCharacters'; characters: Character[] }\n  | { type: 'setFragments'; fragments: StoryFragment[] }\n  | { type: 'calculateLastMonth'; data: SelectedCharacterBonus[] };\n\nconst reducer = (state: MetadataState, action: Action): MetadataState => {\n  switch (action.type) {\n    case 'setStages':\n      return {\n        ...state,\n        stages: action.stages,\n      };\n    case 'setCharacters':\n      return {\n        ...state,\n        characters: action.characters,\n      };\n    case 'setFragments':\n      return {\n        ...state,\n        fragments: action.fragments,\n      };\n    case 'calculateLastMonth': {\n      if (action.data === undefined) {\n        return state;\n      }\n      const distinctDates = action.data\n        .filter((d, i, arr) => arr.findIndex((t) => t.date === d.date) === i)\n        .map((d) => new Date(d.date))\n        .sort((a, b) => {\n          return a.getTime() - b.getTime();\n        });\n\n      return {\n        ...state,\n        currentMonth: distinctDates[distinctDates.length - 1].toISOString(),\n      };\n    }\n\n    default:\n      throw new Error(`Uknown action type provided`);\n  }\n};\n\nconst [ctx, MetadataProvider] = createCtx(reducer, initialState);\nexport const MetadataContext = ctx;\n\nexport default MetadataProvider;\n","import { Metadata, SelectedCharacterBonus } from '../types';\nimport { Filter } from './types';\n\nconst currentMonthFilter: Filter = {\n  id: 'currentMonth',\n  label: 'Current Month',\n  enabled: true,\n  canDelete: false,\n  predicate: (term: SelectedCharacterBonus, metadata: Metadata) => {\n    const theDate = new Date(term.date);\n    const current =\n      metadata.currentMonth === undefined\n        ? new Date()\n        : new Date(metadata.currentMonth);\n\n    return (\n      theDate.getMonth() === current.getMonth() &&\n      theDate.getFullYear() === current.getFullYear()\n    );\n  },\n};\nexport { currentMonthFilter };\n\nconst allTimeFilter: Filter = {\n  id: 'allTime',\n  label: 'All Time',\n  enabled: false,\n  canDelete: false,\n  predicate: (term: SelectedCharacterBonus) => {\n    return true;\n  },\n};\nexport { allTimeFilter };\nconst timeFilters = [currentMonthFilter, allTimeFilter];\nexport default timeFilters;\n","const futureColour = '#23a5d7';\nconst warColour = '#6d1895';\nconst shieldColour = '#3b7d57';\nconst dimensionColour = '#bf0001';\n\nconst filterColourMap: { [key: string]: string } = {\n  'Dimensional Clash': dimensionColour,\n  'The True SHIELD': shieldColour,\n  'The All War': warColour,\n  'The Future Ends Here': futureColour,\n};\n\nexport default filterColourMap;\n","import { SelectedCharacterBonus } from '../types';\nimport filterColourMap from './filterColours';\nimport { Filter } from './types';\n\nconst dimensionalClashdFilter: Filter = {\n  id: 'dimensionalClash',\n  label: 'Dimensional Clash',\n  enabled: true,\n  canDelete: true,\n  predicate: (term: SelectedCharacterBonus) => {\n    return term.stageId <= 20;\n  },\n  colour: filterColourMap['Dimensional Clash'],\n};\nexport { dimensionalClashdFilter };\n\nconst trueShieldFilter: Filter = {\n  id: 'trueShield',\n  label: 'The True SHIELD',\n  enabled: true,\n  canDelete: true,\n  predicate: (term: SelectedCharacterBonus) => {\n    return term.stageId >= 21 && term.stageId <= 24;\n  },\n  colour: filterColourMap['The True SHIELD'],\n};\nexport { trueShieldFilter };\n\nconst allWarFilter: Filter = {\n  id: 'allWar',\n  label: 'The All War',\n  enabled: true,\n  canDelete: true,\n  predicate: (term: SelectedCharacterBonus) => {\n    return term.stageId >= 25 && term.stageId <= 28;\n  },\n  colour: filterColourMap['The All War'],\n};\nexport { allWarFilter };\n\nconst futureEndsHereFilter: Filter = {\n  id: 'futureEndsHere',\n  label: 'The Future Ends Here',\n  enabled: true,\n  canDelete: true,\n  predicate: (term: SelectedCharacterBonus) => {\n    return term.stageId >= 29;\n  },\n  colour: filterColourMap['The Future Ends Here'],\n};\nexport { futureEndsHereFilter };\n\nconst storyFilters = [\n  dimensionalClashdFilter,\n  trueShieldFilter,\n  allWarFilter,\n  futureEndsHereFilter,\n];\nexport default storyFilters;\n","import timeFilters from './timeFilters';\nimport storyFilters from './storyFilters';\nimport { createFragmentFilters } from './fragmentFilters';\n\nexport { createFragmentFilters };\n\nconst allFilters = [...timeFilters, ...storyFilters];\nexport default allFilters;\n","import storyFilters from '../../filters/storyFilters';\nimport timeFilters from '../../filters/timeFilters';\nimport { Filter } from '../../filters/types';\nimport { Metadata, SelectedCharacterBonus } from '../../types';\nimport React from 'react';\nimport { MetadataContext } from '../../context/metadataContext';\n\nconst filterData = (\n  data: SelectedCharacterBonus[],\n  filters: Filter[],\n  metadata: Metadata\n): SelectedCharacterBonus[] => {\n  const enabledFilters = filters.filter((f) => f.enabled);\n  const fragmentFilters = filters.filter((f) => f.id.startsWith('fragment'));\n\n  const enabledFragmentFilters = fragmentFilters.some((f) => f.enabled);\n\n  let filterGroups = [timeFilters, storyFilters];\n  if (enabledFragmentFilters) {\n    filterGroups = [...filterGroups, fragmentFilters];\n  }\n  const filteredData = data.filter((d) =>\n    filterGroups.every((fg) =>\n      fg\n        .filter((f) => enabledFilters?.find((ef) => ef.id === f.id))\n        .some((f) => f.predicate(d, metadata))\n    )\n  );\n\n  return filteredData;\n};\n\nconst useFilteredData = (\n  data?: SelectedCharacterBonus[],\n  filters?: Filter[]\n): SelectedCharacterBonus[] => {\n  const { state: metadata } = React.useContext(MetadataContext);\n  const [filteredData, setFilteredData] = React.useState<\n    SelectedCharacterBonus[]\n  >([]);\n\n  React.useEffect(() => {\n    if (data === undefined) {\n      setFilteredData([]);\n    } else if (filters === undefined || filters.length <= 0) {\n      setFilteredData(data);\n    } else {\n      setFilteredData(filterData(data, filters, metadata));\n    }\n  }, [data, filters, metadata]);\n\n  return filteredData;\n};\n\nexport default useFilteredData;\n","import React from 'react';\nimport { Filter } from '../../filters/types';\n\nconst setFilterState = (\n  filters: Filter[],\n  filterId: string,\n  filterDisabled: boolean = false\n) => {\n  const filter = filters.find((f) => f.id === filterId);\n  if (filter === undefined) {\n    return filters;\n  }\n\n  return filters.map((f) => {\n    return f.id === filterId\n      ? {\n          ...f,\n          enabled: !filterDisabled,\n        }\n      : f;\n  });\n};\n\nconst useFilters = () => {\n  const [filters, setFilters] = React.useState<Filter[]>([]);\n\n  const enableFilter = React.useCallback(\n    (filterId: string) => {\n      setFilters(setFilterState(filters, filterId, false));\n    },\n    [filters]\n  );\n\n  const disableFilter = React.useCallback(\n    (filterId: string) => {\n      setFilters(setFilterState(filters, filterId, true));\n    },\n    [filters]\n  );\n\n  return { filters, setFilters, enableFilter, disableFilter };\n};\n\nexport default useFilters;\n","import React from 'react';\n\nconst getStorageValue = (key: string, defaultValue: any) => {\n  const saved: any = localStorage.getItem(key);\n  const initial = JSON.parse(saved);\n  return initial || defaultValue;\n};\n\nconst useLocalStorage = <T,>(key: string, defaultValue: any) => {\n  const [value, setValue] = React.useState<T>(() => {\n    return getStorageValue(key, defaultValue);\n  });\n\n  React.useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n\n  return { value, setValue };\n};\nexport default useLocalStorage;\n","import { Roster } from '../types';\nimport useLocalStorage from './useLocalStorage';\n\nconst defaultRoster: Roster = { unowned: {} };\n\nconst useRoster = () => {\n  const { value: roster, setValue: setRoster } = useLocalStorage<Roster>(\n    'roster',\n    defaultRoster\n  );\n\n  const setOwned = (characterId: string, isOwned: boolean = true) => {\n    const { unowned } = roster;\n    if (isOwned) {\n      delete unowned[characterId];\n    } else {\n      if (!unowned.hasOwnProperty(characterId)) {\n        unowned[characterId] = true;\n      }\n    }\n    setRoster({ ...roster, unowned });\n  };\n\n  const isOwned = (characterId: string | null): boolean => {\n    const { unowned } = roster;\n    return !unowned.hasOwnProperty(characterId ?? '');\n  };\n\n  return { roster, setOwned, isOwned };\n};\n\nexport default useRoster;\n","import React from 'react';\nimport { MetadataContext } from '../../context/metadataContext';\nimport { Metadata, SelectedCharacterBonus } from '../../types';\nimport { StageGroupedData } from '../types';\n\nconst prepare = (\n  data: SelectedCharacterBonus[],\n  metadata: Metadata\n): StageGroupedData[] => {\n  const groupedData = Array.from(\n    data.reduce((acc, val) => {\n      const character = metadata.characters.find(\n        (c) => c.id === val.characterId\n      );\n\n      const stage = metadata.stages.find((s) => s.id === val.stageId);\n\n      const currentStageGroupedItem = acc.get(val.stageId);\n      if (currentStageGroupedItem === undefined) {\n        acc.set(val.stageId, {\n          stageId: val.stageId,\n          stage,\n          characterId1: val.characterId,\n          character1: character,\n          characterId2: null,\n          characterId3: null,\n        });\n      } else {\n        acc.set(val.stageId, {\n          ...currentStageGroupedItem,\n          characterId2: currentStageGroupedItem.characterId2 || val.characterId,\n          character2: currentStageGroupedItem.character2 || character,\n          characterId3:\n            currentStageGroupedItem.characterId3 ||\n            (currentStageGroupedItem.characterId2 && val.characterId),\n          character3:\n            currentStageGroupedItem.character3 ||\n            (currentStageGroupedItem.character2 && character),\n        });\n      }\n\n      return acc;\n    }, new Map<number, StageGroupedData>()),\n    ([key, value]) => ({ ...value })\n  );\n\n  return groupedData;\n};\n\nconst useStageGroupedData = (\n  data: SelectedCharacterBonus[]\n): StageGroupedData[] => {\n  const { state: metadata } = React.useContext(MetadataContext);\n  const [groupedData, setGroupData] = React.useState<StageGroupedData[]>([]);\n\n  React.useEffect(() => {\n    if (data !== undefined) {\n      const preparedData = prepare(data, metadata);\n      setGroupData(preparedData);\n    }\n  }, [data, metadata]);\n\n  return groupedData;\n};\n\nexport default useStageGroupedData;\n","import { Chip, Toolbar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport React from 'react';\nimport { Filter } from '../filters/types';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbar: {\n    backgroundColor: 'inherit',\n    padding: 0,\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    marginTop: theme.spacing(-1),\n    minHeight: 0,\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: theme.spacing(0.5),\n  },\n  chipHidden: {\n    display: 'none',\n  },\n}));\n\nconst TableFilterSection = ({\n  filters = [],\n  onFilterClick,\n}: {\n  filters: Filter[];\n  onFilterClick?: Function;\n}) => {\n  const classes = useStyles();\n\n  const handleClick = (filter: Filter) => {\n    if (onFilterClick !== undefined) {\n      onFilterClick(filter);\n    }\n  };\n\n  if (filters.length <= 0) {\n    return null;\n  }\n\n  return (\n    <Toolbar className={clsx(classes.toolbar)}>\n      {filters.map((filter) => {\n        return (\n          <Chip\n            key={filter.id}\n            label={filter.label}\n            className={clsx(classes.chip, filter.hidden && classes.chipHidden)}\n            onClick={() => handleClick(filter)}\n            color={filter.enabled ? 'primary' : undefined}\n            size={'small'}\n            style={{\n              backgroundColor: filter.enabled ? filter.colour : undefined,\n            }}\n          />\n        );\n      })}\n    </Toolbar>\n  );\n};\n\nexport default TableFilterSection;\n","import { Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n  },\n  title: {\n    flex: '1 1 100%',\n  },\n}));\n\nconst TableToolbar = ({ title }: { title: string }) => {\n  const classes = useToolbarStyles();\n  return (\n    <Toolbar className={classes.root}>\n      <Typography\n        variant=\"h5\"\n        id=\"tableTitle\"\n        component=\"div\"\n        className={classes.title}\n      >\n        {title}\n      </Typography>\n    </Toolbar>\n  );\n};\n\nexport default TableToolbar;\n","import React from 'react';\nimport { MetadataContext } from '../../context/metadataContext';\n\nconst CharacterTextLabel = ({\n  characterId,\n}: {\n  characterId: string | null;\n}) => {\n  const {\n    state: { characters },\n  } = React.useContext(MetadataContext);\n\n  const character = characters.find((c) => characterId === c.id);\n  if (character === undefined) {\n    return <>{characterId}</>;\n  }\n  return <>{character.name}</>;\n};\n\nexport default CharacterTextLabel;\n","import { Roster, StageGroupedData } from '../../components/types';\n\nconst dealerCalculator = (\n  stageData: StageGroupedData,\n  team: (string | null)[],\n  roster?: Roster,\n  dealerSlot: number = 0\n) => {\n  const { characterId1, characterId2, characterId3 } = stageData;\n  const designatedArray = [characterId1, characterId2, characterId3];\n  const trackUsed = [characterId1, characterId2, characterId3];\n\n  //Any unowned characters means dealer slot character is active\n  if (roster !== undefined) {\n    const { unowned } = roster;\n    for (let d: number = 0; d < designatedArray.length; d++) {\n      const currentCharacter = designatedArray[d];\n      if (currentCharacter && unowned.hasOwnProperty(currentCharacter)) {\n        return {\n          position1: team[dealerSlot] ?? null,\n          position2: null,\n          position3: null,\n        };\n      }\n    }\n  }\n\n  // if dealer slot character is a designated character, then they are active\n  if (designatedArray.indexOf(team[dealerSlot]) >= 0) {\n    return {\n      position1: team[dealerSlot],\n      position2: null,\n      position3: null,\n    };\n  }\n\n  // otherwise\n  // active character is the first designated character not on team\n  for (let t: number = 0; t < team.length; t++) {\n    if (t === dealerSlot) {\n      continue;\n    }\n    const teamCharacter = team[t];\n    const designatedIndex = designatedArray.indexOf(teamCharacter);\n    if (designatedIndex >= 0) {\n      trackUsed[designatedIndex] = null;\n    }\n  }\n\n  // First non null\n  const activeCharacter = trackUsed.find((c) => c !== null) || null;\n  return { position1: activeCharacter, position2: null, position3: null };\n};\n\nexport default dealerCalculator;\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPhysicalImmune(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"48.000000pt\",\n    height: \"47.000000pt\",\n    viewBox: \"0 0 48.000000 47.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,47.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M155 406 c-16 -7 -45 -28 -62 -46 -107 -110 -44 -299 108 -325 75 -13 168 36 205 106 32 63 10 183 -43 231 -49 45 -147 61 -208 34z m141 -25 c124 -56 138 -221 26 -292 -61 -39 -123 -40 -178 -3 -39 27 -63 52 -64 67 0 14 83 2 117 -16 18 -9 43 -17 58 -17 24 0 65 31 65 49 0 5 7 17 16 26 21 21 25 92 6 100 -7 3 -29 5 -47 5 -19 0 -37 5 -40 10 -11 17 -51 11 -70 -10 -14 -16 -29 -20 -59 -18 -22 2 -41 8 -43 15 -7 19 49 73 92 88 53 19 72 18 121 -4z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPhysicalImmune);\nexport default __webpack_public_path__ + \"static/media/physicalImmune.a3bf8575.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNonelementalImmune(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"48.000000pt\",\n    height: \"47.000000pt\",\n    viewBox: \"0 0 48.000000 47.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,47.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M225 395 c-5 -2 -22 -6 -37 -9 -60 -13 -127 -102 -128 -170 0 -24 2 -27 15 -16 8 7 15 19 15 26 0 8 7 14 16 14 13 0 14 3 4 15 -21 25 -4 45 38 45 41 0 62 14 62 41 0 19 37 36 50 22 5 -4 10 -19 12 -33 3 -26 4 -26 86 -29 26 -1 31 -38 7 -47 -8 -4 -15 -13 -15 -20 0 -11 4 -12 19 -4 11 5 27 7 35 4 23 -9 20 23 -7 71 -30 54 -127 105 -172 90z m-35 -55 c0 -25 -27 -37 -43 -21 -9 10 -8 16 7 27 27 19 36 18 36 -6z m140 5 c10 -12 10 -19 2 -27 -16 -16 -42 -2 -42 22 0 24 22 26 40 5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M197 289 c-9 -6 -27 -7 -39 -3 -19 6 -20 4 -14 -27 3 -19 13 -39 22 -46 19 -14 38 -49 48 -87 9 -38 46 -32 59 9 5 17 20 42 34 56 13 14 27 43 30 64 l6 37 -31 -6 c-18 -4 -33 -3 -37 3 -8 14 -54 14 -78 0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M89 195 c-12 -19 -27 -35 -34 -35 -18 0 -24 -21 -13 -43 7 -14 3 -28 -16 -58 -14 -21 -26 -43 -26 -49 0 -16 108 -12 117 4 4 8 27 28 51 45 37 28 41 35 36 59 -12 45 -62 111 -87 112 -4 0 -17 -16 -28 -35z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M319 182 c-23 -20 -32 -39 -36 -70 -4 -34 -2 -41 10 -36 10 3 18 -4 25 -23 7 -19 11 -22 11 -9 1 13 6 17 21 13 11 -3 20 -1 20 5 0 5 19 -7 42 -26 49 -42 68 -45 68 -11 0 14 -3 25 -7 25 -5 0 -16 14 -26 32 -13 22 -15 33 -6 38 8 6 8 9 -1 15 -8 5 -6 11 6 20 17 12 16 13 -5 20 -14 4 -20 12 -17 21 4 11 -4 14 -34 14 -29 0 -48 -7 -71 -28z m66 -55 c11 -33 11 -36 -2 -25 -8 7 -22 13 -30 14 -24 4 -34 19 -27 38 11 30 45 15 59 -27z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M196 63 c-13 -14 -5 -22 28 -28 38 -8 76 1 76 16 0 6 -4 7 -10 4 -5 -3 -15 -3 -22 1 -17 10 -64 15 -72 7z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNonelementalImmune);\nexport default __webpack_public_path__ + \"static/media/nonelementalImmune.1290ad5d.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgReflect(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"48.000000pt\",\n    height: \"47.000000pt\",\n    viewBox: \"0 0 48.000000 47.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,47.000000) scale(0.100000,-0.100000)\",\n    fill: \"#000000\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M85 354 c6 -32 26 -58 111 -144 83 -85 101 -108 93 -122 -15 -28 10 -33 37 -7 l24 22 26 -24 c14 -13 30 -34 35 -47 10 -26 27 -25 43 2 8 14 8 20 -2 23 -8 3 -29 19 -48 36 l-35 30 21 22 c21 22 27 45 11 45 -6 0 -13 -5 -17 -11 -4 -7 -49 31 -114 96 -95 94 -112 107 -149 112 l-42 6 6 -39z m189 -123 c72 -72 87 -101 52 -101 -15 0 -166 153 -166 169 0 29 43 4 114 -68z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgReflect);\nexport default __webpack_public_path__ + \"static/media/reflect.90cd2e28.svg\";\nexport { ForwardRef as ReactComponent };","import { Badge, Tooltip } from '@material-ui/core';\nimport { ReactComponent as EnergyImmuneIcon } from '../../assets/images/energyImmune.svg';\nimport { ReactComponent as PhysicalImmuneIcon } from '../../assets/images/physicalImmune.svg';\nimport { ReactComponent as NEImmuneIcon } from '../../assets/images/nonelementalImmune.svg';\nimport { ReactComponent as ReflectIcon } from '../../assets/images/reflect.svg';\nimport { Stage } from '../../types';\n\nconst ENERGY_IMMUNE = 'energyimmune';\nconst PHYSICAL_IMMUNE = 'physicalimmune';\nconst NONELEM_IMMUNE = 'enemyitnd';\nconst REFLECT_HERO = 'reflecthero';\nconst REFLECT_VILLIAN = 'reflectvillian';\n\nconst StageBonusIcon = ({ stage }: { stage: Stage }) => {\n  if (stage.bonus === undefined) {\n    return null;\n  }\n\n  if (stage.bonus.indexOf(ENERGY_IMMUNE) >= 0) {\n    return (\n      <Tooltip title={'Enemy Immunity to Energy Damage'}>\n        <EnergyImmuneIcon width={'24'} height={'24'} />\n      </Tooltip>\n    );\n  }\n  if (stage.bonus.indexOf(PHYSICAL_IMMUNE) >= 0) {\n    return (\n      <Tooltip title={'Enemy Immunity to Physical Damage'}>\n        <PhysicalImmuneIcon width={'24'} height={'24'} />\n      </Tooltip>\n    );\n  }\n  if (stage.bonus.indexOf(NONELEM_IMMUNE) >= 0) {\n    return (\n      <Tooltip title={'Enemy Immunity to non-elemental Damage'}>\n        <NEImmuneIcon width={'24'} height={'24'} />\n      </Tooltip>\n    );\n  }\n  if (stage.bonus.indexOf(REFLECT_HERO) >= 0) {\n    return (\n      <Badge variant={'dot'} color={'primary'} overlap={'circle'}>\n        <Tooltip title={'Reflect damage from Heroes'}>\n          <ReflectIcon width={'24'} height={'24'} />\n        </Tooltip>\n      </Badge>\n    );\n  }\n  if (stage.bonus.indexOf(REFLECT_VILLIAN) >= 0) {\n    return (\n      <Badge variant={'dot'} color={'secondary'} overlap={'circle'}>\n        <Tooltip title={'Reflect damage from Villians'}>\n          <ReflectIcon width={'24'} height={'24'} />\n        </Tooltip>\n      </Badge>\n    );\n  }\n  return null;\n};\nexport default StageBonusIcon;\n","import {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@material-ui/core';\nimport red from '@material-ui/core/colors/red';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport React from 'react';\nimport useFilteredData from '../../components/hooks/useFilteredData';\nimport useFilters from '../../components/hooks/useFilters';\nimport useRoster from '../../components/hooks/useRoster';\nimport useStageGroupedData from '../../components/hooks/useStageGroupedData';\nimport TableFilterSection from '../../components/TableFilterSection';\nimport TableToolbar from '../../components/TableToolbar';\nimport {\n  allWarFilter,\n  dimensionalClashdFilter,\n  futureEndsHereFilter,\n  trueShieldFilter,\n} from '../../filters/storyFilters';\nimport { currentMonthFilter } from '../../filters/timeFilters';\nimport { Filter } from '../../filters/types';\nimport { SelectedCharacterBonus } from '../../types';\nimport CharacterTextLabel from './CharacterTextLabel';\nimport leadCalculator from './dealerCalculator';\nimport StageBonusIcon from './StageBonusIcon';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  stage: {\n    paddingLeft: 0,\n  },\n  stageBonus: {\n    paddingRight: 0,\n    paddingTop: 0,\n    paddingBottom: 0,\n    lineHeight: 0,\n  },\n  leader: {\n    backgroundColor: theme.palette.primary.light,\n    color: theme.palette.getContrastText(theme.palette.primary.light),\n  },\n  unowned: {\n    backgroundColor: red[100],\n    color: theme.palette.getContrastText(red[100]),\n  },\n  unownedLabel: {\n    color: theme.palette.error.main,\n    textDecoration: 'line-through',\n  },\n}));\n\nconst timeFilter = { ...currentMonthFilter, hidden: true };\n\nconst LeaderTable = ({\n  data,\n  team,\n  dealer = 0,\n}: {\n  data: SelectedCharacterBonus[];\n  team: (string | null)[];\n  dealer: number;\n}) => {\n  const classes = useStyles();\n  const { filters, setFilters } = useFilters();\n  const filteredData = useFilteredData(data, filters);\n  const groupedData = useStageGroupedData(filteredData);\n  const { roster, isOwned } = useRoster();\n\n  React.useEffect(() => {\n    setFilters([\n      timeFilter,\n      dimensionalClashdFilter,\n      { ...trueShieldFilter, enabled: false },\n      { ...allWarFilter, enabled: false },\n      { ...futureEndsHereFilter, enabled: false },\n    ]);\n  }, [setFilters]);\n\n  const handleFilterClick = (filter: Filter) => {\n    setFilters([\n      timeFilter,\n      ...filters\n        .filter((f) => f.id !== timeFilter.id)\n        .map((f) => {\n          return {\n            ...f,\n            enabled: filter.id === f.id,\n          };\n        }),\n    ]);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableToolbar title={'Autoplay Story Leader'} />\n        <TableFilterSection\n          filters={filters}\n          onFilterClick={handleFilterClick}\n        />\n        <TableContainer>\n          <Table size={'small'}>\n            <TableHead>\n              <TableRow>\n                <TableCell className={classes.stageBonus}></TableCell>\n                <TableCell className={classes.stage}>Stage</TableCell>\n                <TableCell>Character 1</TableCell>\n                <TableCell>Character 2</TableCell>\n                <TableCell>Character 3</TableCell>\n                <TableCell style={{ fontWeight: 'bold' }}>Active</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {groupedData.map((row) => {\n                const { position1: leader } = leadCalculator(\n                  row,\n                  team,\n                  roster,\n                  dealer\n                );\n\n                const characterArray = [\n                  row.characterId1,\n                  row.characterId2,\n                  row.characterId3,\n                ];\n                return (\n                  <TableRow key={row.stageId} hover>\n                    <TableCell className={classes.stageBonus}>\n                      {row.stage && <StageBonusIcon stage={row.stage} />}\n                    </TableCell>\n                    <TableCell className={classes.stage}>\n                      {row.stage\n                        ? `${row.stage.stage}-${row.stage.subStage}`\n                        : row.stageId}\n                    </TableCell>\n                    <TableCell\n                      className={clsx(\n                        !isOwned(row.characterId1) && classes.unownedLabel\n                      )}\n                    >\n                      {row.character1 ? row.character1.name : row.characterId1}\n                    </TableCell>\n                    <TableCell\n                      className={clsx(\n                        !isOwned(row.characterId2) && classes.unownedLabel\n                      )}\n                    >\n                      {row.character2 ? row.character2.name : row.characterId2}\n                    </TableCell>\n                    <TableCell\n                      className={clsx(\n                        !isOwned(row.characterId3) && classes.unownedLabel\n                      )}\n                    >\n                      {row.character3 ? row.character3.name : row.characterId3}\n                    </TableCell>\n                    <TableCell\n                      className={clsx(\n                        characterArray[0] !== leader && classes.leader,\n                        leader === null && classes.unowned\n                      )}\n                    >\n                      <CharacterTextLabel characterId={leader ?? 'SLOT'} />\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n};\n\nexport default LeaderTable;\n","import { TextField } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport { Character } from '../../types';\n\nconst CharacterSelector = ({\n  characters,\n  label,\n  value = null,\n  onCharacterChange,\n}: {\n  characters: Character[];\n  label: string;\n  value: Character | null;\n  onCharacterChange?: Function;\n}) => {\n  const handleOnChange = (event: any, character: Character | null) => {\n    if (onCharacterChange !== undefined) {\n      onCharacterChange(character);\n    }\n  };\n\n  return (\n    <Autocomplete\n      value={value}\n      onChange={handleOnChange}\n      options={characters}\n      getOptionLabel={(option) => option.name}\n      renderInput={(params) => (\n        <TextField {...params} label={label} variant=\"outlined\" />\n      )}\n    />\n  );\n};\n\nexport default CharacterSelector;\n","import { Paper, Typography, Radio } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport { MetadataContext } from '../../context/metadataContext';\nimport { Character } from '../../types';\nimport CharacterSelector from './CharacterSelector';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n  },\n  row: {\n    display: 'flex',\n  },\n  selects: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(2),\n  },\n  select: {\n    flexGrow: 1,\n  },\n  title: {\n    paddingRight: theme.spacing(1),\n    paddingBottom: theme.spacing(2),\n  },\n}));\n\nconst TeamSelector = ({\n  onTeamChange,\n  onDealerChange,\n  dealer = 0,\n}: {\n  onTeamChange?: Function;\n  onDealerChange?: Function;\n  dealer: number;\n}) => {\n  const classes = useStyles();\n  const {\n    state: { characters },\n  } = React.useContext(MetadataContext);\n\n  const [team, setTeam] = React.useState<(Character | null)[]>([\n    null,\n    null,\n    null,\n  ]);\n\n  const handleCharacterChange = (character: Character, index: number) => {\n    const updatedTeam = [...team];\n    updatedTeam[index] = character;\n    setTeam(updatedTeam);\n\n    if (onTeamChange !== undefined) {\n      onTeamChange(updatedTeam.map((t) => t?.id));\n    }\n  };\n\n  const handleRadioChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (onDealerChange !== undefined) {\n      onDealerChange(parseInt(event.target.value));\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <Typography variant={'h5'} className={classes.title}>\n          Team Configuration\n        </Typography>\n        <div className={classes.selects}>\n          {['Lead', '2nd', '3rd'].map((label, index) => {\n            return (\n              <div className={classes.row} key={`${label}${index}`}>\n                <Radio\n                  checked={dealer === index}\n                  value={index}\n                  onChange={handleRadioChange}\n                  name=\"radio-buttons\"\n                  inputProps={{ 'aria-label': `${index}` }}\n                  size={'small'}\n                />\n                <div className={classes.select}>\n                  <CharacterSelector\n                    characters={characters}\n                    label={label}\n                    value={team[index]}\n                    onCharacterChange={(character: Character) =>\n                      handleCharacterChange(character, index)\n                    }\n                  />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </Paper>\n    </div>\n  );\n};\n\nexport default TeamSelector;\n","import {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n} from '@material-ui/core';\nimport red from '@material-ui/core/colors/red';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport React from 'react';\nimport useFilteredData from '../../components/hooks/useFilteredData';\nimport useFilters from '../../components/hooks/useFilters';\nimport useRoster from '../../components/hooks/useRoster';\nimport useStageGroupedData from '../../components/hooks/useStageGroupedData';\nimport TableFilterSection from '../../components/TableFilterSection';\nimport TableToolbar from '../../components/TableToolbar';\nimport {\n  allWarFilter,\n  dimensionalClashdFilter,\n  futureEndsHereFilter,\n  trueShieldFilter,\n} from '../../filters/storyFilters';\nimport { currentMonthFilter } from '../../filters/timeFilters';\nimport { Filter } from '../../filters/types';\nimport { SelectedCharacterBonus } from '../../types';\n\nimport CharacterTextLabel from './CharacterTextLabel';\nimport leadCalculator from './dealerCalculator';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    marginBottom: theme.spacing(5),\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  leader: {\n    backgroundColor: theme.palette.primary.light,\n    color: theme.palette.getContrastText(theme.palette.primary.light),\n  },\n  unowned: {\n    backgroundColor: red[100],\n    color: theme.palette.getContrastText(red[100]),\n  },\n  unownedLabel: {\n    color: theme.palette.error.main,\n    textDecoration: 'line-through',\n  },\n  designated: {\n    display: 'block',\n    lineHeight: 1,\n  },\n  typography: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst timeFilter = { ...currentMonthFilter, hidden: true };\n\nconst LeaderTableConcise = ({\n  data,\n  team,\n  dealer = 0,\n}: {\n  data: SelectedCharacterBonus[];\n  team: (string | null)[];\n  dealer: number;\n}) => {\n  const classes = useStyles();\n  const { filters, setFilters } = useFilters();\n  const filteredData = useFilteredData(data, filters);\n  const groupedData = useStageGroupedData(filteredData);\n  const { roster, isOwned } = useRoster();\n\n  React.useEffect(() => {\n    setFilters([\n      timeFilter,\n      dimensionalClashdFilter,\n      { ...trueShieldFilter, enabled: false, label: 'SHIELD' },\n      { ...allWarFilter, enabled: false, label: 'All War' },\n      { ...futureEndsHereFilter, enabled: false, label: 'Future Ends' },\n    ]);\n  }, [setFilters]);\n\n  const handleFilterClick = (filter: Filter) => {\n    setFilters([\n      timeFilter,\n      ...filters\n        .filter((f) => f.id !== timeFilter.id)\n        .map((f) => {\n          return {\n            ...f,\n            enabled: filter.id === f.id,\n          };\n        }),\n    ]);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableToolbar title={'Autoplay Story Leader'} />\n        <TableFilterSection\n          filters={filters}\n          onFilterClick={handleFilterClick}\n        />\n        <TableContainer>\n          <Table size={'small'}>\n            <TableHead>\n              <TableRow>\n                <TableCell>Stage</TableCell>\n                <TableCell>Toons</TableCell>\n                <TableCell style={{ fontWeight: 'bold' }}>Active</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {groupedData.map((row) => {\n                const { position1: leader } = leadCalculator(\n                  row,\n                  team,\n                  roster,\n                  dealer\n                );\n\n                return (\n                  <TableRow key={row.stageId} hover>\n                    <TableCell>\n                      {row.stage\n                        ? `${row.stage.stage}-${row.stage.subStage}`\n                        : row.stageId}\n                    </TableCell>\n                    <TableCell>\n                      <Typography\n                        variant={'caption'}\n                        className={clsx(\n                          classes.designated,\n                          !isOwned(row.characterId1) && classes.unownedLabel\n                        )}\n                      >\n                        {row.character1?.name}\n                      </Typography>\n                      <Typography\n                        variant={'caption'}\n                        className={clsx(\n                          classes.designated,\n                          !isOwned(row.characterId2) && classes.unownedLabel\n                        )}\n                      >\n                        {row.character2?.name}\n                      </Typography>\n                      <Typography\n                        variant={'caption'}\n                        className={clsx(\n                          classes.designated,\n                          !isOwned(row.characterId3) && classes.unownedLabel\n                        )}\n                      >\n                        {row.character3?.name}\n                      </Typography>\n                    </TableCell>\n\n                    <TableCell\n                      className={clsx(\n                        row.characterId1 !== leader && classes.leader,\n                        leader === null && classes.unowned\n                      )}\n                    >\n                      <CharacterTextLabel characterId={leader ?? 'SLOT'} />\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n};\n\nexport default LeaderTableConcise;\n","import {\n  BottomNavigation,\n  BottomNavigationAction,\n  Menu,\n  MenuItem,\n} from '@material-ui/core';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport React from 'react';\nimport { MetadataContext } from '../../context/metadataContext';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    stickToBottom: {\n      width: '100%',\n      position: 'fixed',\n      bottom: 0,\n      backgroundColor: '#648dae',\n      marginLeft: theme.spacing(-2),\n    },\n    dealer: {\n      backgroundColor: theme.palette.primary.main,\n    },\n    actionLabel: {\n      color: theme.palette.getContrastText(theme.palette.primary.light),\n      fontWeight: 'bold',\n    },\n  })\n);\n\nconst TeamSelectorBar = ({\n  onTeamChange,\n  onDealerChange,\n  dealer = 0,\n}: {\n  onTeamChange?: Function;\n  onDealerChange?: Function;\n  dealer: number;\n}) => {\n  const classes = useStyles();\n  const {\n    state: { characters },\n  } = React.useContext(MetadataContext);\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [currentPosition, setCurrentPosition] = React.useState(0);\n  const [team, setTeam] = React.useState<(string | null)[]>([null, null, null]);\n\n  const handleActionClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (\n    event: React.MouseEvent<HTMLLIElement> | null,\n    character: { id: string; name: string } | null\n  ) => {\n    setAnchorEl(null);\n\n    if (character && character.id === 'dealer') {\n      if (onDealerChange !== undefined) {\n        onDealerChange(currentPosition);\n      }\n      return;\n    }\n\n    const updatedTeam = [...team];\n    updatedTeam[currentPosition] = character ? character.id : null;\n    setTeam(updatedTeam);\n\n    if (onTeamChange !== undefined) {\n      onTeamChange(updatedTeam);\n    }\n  };\n\n  return (\n    <>\n      <BottomNavigation\n        className={classes.stickToBottom}\n        showLabels\n        value={currentPosition}\n        onChange={(event, newValue) => {\n          setCurrentPosition(newValue);\n        }}\n      >\n        <BottomNavigationAction\n          label={characters.find((c) => c.id === team[0])?.name ?? 'Lead'}\n          onClick={handleActionClick}\n          classes={{\n            selected: classes.actionLabel,\n            label: classes.actionLabel,\n            root: clsx(dealer === 0 && classes.dealer),\n          }}\n          value={0}\n        />\n        <BottomNavigationAction\n          label={characters.find((c) => c.id === team[1])?.name ?? '2nd'}\n          onClick={handleActionClick}\n          classes={{\n            selected: classes.actionLabel,\n            label: classes.actionLabel,\n            root: clsx(dealer === 1 && classes.dealer),\n          }}\n          value={1}\n        />\n        <BottomNavigationAction\n          label={characters.find((c) => c.id === team[2])?.name ?? '3rd'}\n          onClick={handleActionClick}\n          classes={{\n            selected: classes.actionLabel,\n            label: classes.actionLabel,\n            root: clsx(dealer === 2 && classes.dealer),\n          }}\n          value={2}\n        />\n      </BottomNavigation>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={(event) => handleClose(null, null)}\n      >\n        {[{ id: 'dealer', name: 'Set As Dealer' }, ...characters].map(\n          (character) => {\n            return (\n              <MenuItem\n                key={character.id}\n                onClick={(event) => handleClose(event, character)}\n              >\n                {character.name}\n              </MenuItem>\n            );\n          }\n        )}\n      </Menu>\n    </>\n  );\n};\nexport default TeamSelectorBar;\n","import { Grid } from '@material-ui/core';\nimport React from 'react';\nimport { SelectedCharacterBonus } from '../../types';\nimport LeaderTable from './LeaderTable';\nimport TeamSelector from './TeamSelector';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { Theme } from '@material-ui/core/styles';\nimport LeaderTableConcise from './LeaderTableConcise';\n\nimport TeamSelectorBar from './TeamSelectorBar';\n\nconst AutoplayPage = ({\n  data,\n  isLoading,\n}: {\n  data: SelectedCharacterBonus[];\n  isLoading: boolean;\n}) => {\n  const showFullTable = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.up('sm')\n  );\n\n  const [selectedDealer, setSelectedDealer] = React.useState(0);\n  const [teamCharacters, setTeamCharacters] = React.useState<(string | null)[]>(\n    [null, null, null]\n  );\n\n  const handleTeamChange = (characters: string[]) => {\n    setTeamCharacters(characters);\n  };\n\n  const handleDealerChange = (dealerSlot: number) => {\n    setSelectedDealer(dealerSlot);\n  };\n\n  if (isLoading) {\n    return <div />;\n  }\n\n  return (\n    <>\n      {!showFullTable && (\n        <div>\n          <LeaderTableConcise\n            data={data}\n            team={teamCharacters}\n            dealer={selectedDealer}\n          />\n          <TeamSelectorBar\n            onTeamChange={handleTeamChange}\n            onDealerChange={handleDealerChange}\n            dealer={selectedDealer}\n          />\n        </div>\n      )}\n      {showFullTable && (\n        <Grid container spacing={3}>\n          <Grid item sm={12} md={8}>\n            <LeaderTable\n              data={data}\n              team={teamCharacters}\n              dealer={selectedDealer}\n            />\n          </Grid>\n          <Grid item sm={12} md={4}>\n            <TeamSelector\n              onTeamChange={handleTeamChange}\n              onDealerChange={handleDealerChange}\n              dealer={selectedDealer}\n            />\n          </Grid>\n        </Grid>\n      )}\n    </>\n  );\n};\n\nexport default AutoplayPage;\n","import {\n  makeStyles,\n  Paper,\n  Switch,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@material-ui/core';\nimport React from 'react';\nimport useRoster from '../../components/hooks/useRoster';\nimport TableToolbar from '../../components/TableToolbar';\nimport { Character } from '../../types';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  leader: {\n    backgroundColor: theme.palette.primary.light,\n    color: theme.palette.getContrastText(theme.palette.primary.light),\n  },\n}));\n\nconst RosterManagement = ({ characters }: { characters: Character[] }) => {\n  const classes = useStyles();\n  const { roster, setOwned } = useRoster();\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <TableToolbar title={'Roster Management'} />\n        <TableContainer>\n          <Table size={'small'}>\n            <TableHead>\n              <TableRow>\n                <TableCell>Name</TableCell>\n                <TableCell>Advancement</TableCell>\n                <TableCell>Owned?</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {characters.map((row) => {\n                const handleOnChange = (\n                  event: React.ChangeEvent<HTMLInputElement>\n                ) => {\n                  setOwned(row.id, event.target.checked);\n                };\n\n                return (\n                  <TableRow key={row.id} hover>\n                    <TableCell>{row.name}</TableCell>\n                    <TableCell>{row.advancementType}</TableCell>\n                    <TableCell>\n                      <Switch\n                        checked={!roster.unowned.hasOwnProperty(row.id)}\n                        onChange={handleOnChange}\n                      />\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </div>\n  );\n};\n\nexport default RosterManagement;\n","import React from 'react';\nimport { MetadataContext } from '../../context/metadataContext';\nimport RosterManagement from './RosterManagement';\n\nconst ManagePage = () => {\n  const {\n    state: { characters },\n  } = React.useContext(MetadataContext);\n\n  return <RosterManagement characters={characters} />;\n};\n\nexport default ManagePage;\n","import { Toolbar, IconButton, Chip } from '@material-ui/core';\nimport React from 'react';\nimport { Filter } from '../filters/types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport FilterIcon from '@material-ui/icons/FilterList';\nimport { FilterContext } from '../context/filterContext';\nimport timeFilters from '../filters/timeFilters';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbar: {\n    backgroundColor: '#f5f5f5',\n    display: 'flex',\n    flexWrap: 'wrap',\n    padding: theme.spacing(0.5),\n    transition: theme.transitions.create(\n      ['padding', 'min-height', 'background-color'],\n      {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.short,\n      }\n    ),\n    position: 'sticky',\n  },\n  toolbarHidden: {\n    backgroundColor: 'inherit',\n    padding: 0,\n    paddingLeft: theme.spacing(0.5),\n    minHeight: 0,\n    transition: theme.transitions.create(\n      ['padding', 'min-height', 'background-color'],\n      {\n        easing: theme.transitions.easing.easeIn,\n        duration: theme.transitions.duration.short,\n      }\n    ),\n  },\n  chip: {\n    margin: theme.spacing(0.5),\n  },\n  chipHidden: {\n    display: 'none',\n  },\n}));\n\nconst FilterSection = ({ visible = false }: { visible?: boolean }) => {\n  const [isVisible, setIsVisible] = React.useState(visible);\n  const { state, dispatch } = React.useContext(FilterContext);\n  const classes = useStyles();\n\n  const handleDelete = (chipId: string) => {\n    dispatch({\n      type: 'disable',\n      filterId: chipId,\n    });\n  };\n\n  const handleClick = (filter: Filter) => {\n    if (timeFilters.find((f) => f.id === filter.id)) {\n      const others = timeFilters.filter((f) => f.id !== filter.id);\n      others.forEach((f) => {\n        dispatch({\n          type: filter.enabled ? 'enable' : 'disable',\n          filterId: f.id,\n        });\n      });\n    }\n    dispatch({\n      type: filter.enabled ? 'disable' : 'enable',\n      filterId: filter.id,\n    });\n  };\n\n  if (!isVisible && state.filters.length <= 0) {\n    return null;\n  }\n\n  return (\n    <Toolbar\n      className={clsx(classes.toolbar, !isVisible && classes.toolbarHidden)}\n    >\n      <IconButton onClick={() => setIsVisible(!isVisible)}>\n        <FilterIcon />\n      </IconButton>\n      {state.filters?.map((filter) => {\n        return (\n          <Chip\n            key={filter.id}\n            label={filter.label}\n            className={clsx(\n              classes.chip,\n              !isVisible && !filter.enabled && classes.chipHidden\n            )}\n            onDelete={\n              !isVisible && filter.canDelete\n                ? () => handleDelete(filter.id)\n                : undefined\n            }\n            onClick={isVisible ? () => handleClick(filter) : undefined}\n            color={filter.enabled ? 'primary' : undefined}\n            size={isVisible ? 'medium' : 'small'}\n            style={{\n              backgroundColor: filter.enabled ? filter.colour : undefined,\n            }}\n          />\n        );\n      })}\n    </Toolbar>\n  );\n};\n\nexport default FilterSection;\n","import React from 'react';\nimport {\n  AreaBumpSerie,\n  AreaBumpSerieExtraProps,\n  DefaultAreaBumpDatum,\n  ResponsiveAreaBump,\n} from '@nivo/bump';\nimport moment from 'moment';\n\nconst AreaBumpChart = ({\n  areaBumpData,\n}: {\n  areaBumpData: AreaBumpSerie<DefaultAreaBumpDatum, AreaBumpSerieExtraProps>[];\n}) => {\n  return (\n    <ResponsiveAreaBump\n      data={areaBumpData}\n      margin={{ top: 40, right: 100, bottom: 40, left: 100 }}\n      spacing={8}\n      colors={{ scheme: 'nivo' }}\n      blendMode=\"multiply\"\n      startLabel={true}\n      axisTop={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: 'Top 10 Ranking Over Time',\n        legendPosition: 'middle',\n        legendOffset: -28,\n        format: function (value: string) {\n          return moment(value).format('MMM YYYY');\n        },\n      }}\n      axisBottom={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: '',\n        legendPosition: 'middle',\n        legendOffset: 32,\n        format: function (value: string) {\n          return moment(value).format('MMM YYYY');\n        },\n      }}\n    />\n  );\n};\n\nexport default AreaBumpChart;\n","import { ResponsiveBar } from '@nivo/bar';\nimport React from 'react';\nimport { BarItem } from './types';\n\nimport filterColourMap from '../filters/filterColours';\n\nconst getKeys = (data: BarItem[]) => {\n  const keys = data.flatMap((d) => Object.keys(d));\n  return Array.from(new Set(keys)).filter((k) => k !== 'characterName');\n};\n\nconst getColour = (bar: any) => {\n  const { id } = bar;\n  return filterColourMap[id];\n};\n\nconst BarChart = React.memo(({ data }: { data: BarItem[] }) => {\n  const keys = getKeys(data);\n  return (\n    <ResponsiveBar\n      data={data}\n      indexBy={'characterName'}\n      keys={keys}\n      margin={{ top: 10, right: 10, bottom: 80, left: 30 }}\n      axisLeft={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        format: (e) => {\n          if (typeof e === 'number') {\n            return Math.floor(e) === e ? e : '';\n          }\n          return '';\n        },\n      }}\n      axisBottom={{\n        tickRotation: -45,\n        tickPadding: 10,\n      }}\n      valueScale={{ type: 'linear' }}\n      labelSkipWidth={12}\n      labelSkipHeight={12}\n      labelTextColor=\"white\"\n      colors={getColour}\n    />\n  );\n});\n\nexport default BarChart;\n","import React from 'react';\nimport { Metadata, SelectedCharacterBonus } from '../../types';\nimport { BonusesCount } from '../types';\n\nconst prepare = (\n  data: SelectedCharacterBonus[],\n  metadata?: Metadata\n): BonusesCount[] => {\n  const rankData = Array.from(\n    data.reduce((acc, val) => {\n      const currentCount = acc.get(val.characterId);\n      acc.set(val.characterId, currentCount ? currentCount + 1 : 1);\n      return acc;\n    }, new Map<string, number>()),\n    ([key, value]) => {\n      const characterName =\n        metadata?.characters.find((c) => c.id === key)?.name || key;\n      return {\n        characterName,\n        count: value,\n      };\n    }\n  ).sort((a, b) => b.count - a.count);\n\n  return rankData;\n};\n\nconst useRankTableData = (\n  data: SelectedCharacterBonus[],\n  metadata?: Metadata\n): BonusesCount[] => {\n  const [rankData, setRankData] = React.useState<BonusesCount[]>([]);\n\n  React.useEffect(() => {\n    setRankData(prepare(data, metadata));\n  }, [data, metadata]);\n  return rankData;\n};\n\nexport default useRankTableData;\n","import { SelectedCharacterBonus } from '../../types';\nimport {\n  AreaBumpSerie,\n  AreaBumpSerieExtraProps,\n  DefaultAreaBumpDatum,\n} from '@nivo/bump';\nimport useRankTableData from './useRankTableData';\nimport React from 'react';\n\nconst prepare = (\n  data: SelectedCharacterBonus[]\n): AreaBumpSerie<DefaultAreaBumpDatum, AreaBumpSerieExtraProps>[] => {\n  const uniqueDates = Array.from(new Set(data.map((d) => d.date)));\n  const areaBumpData = Array.from(\n    data.reduce((acc, val) => {\n      const usageData = acc.get(val.characterId);\n\n      if (usageData === undefined) {\n        acc.set(val.characterId, [\n          ...uniqueDates.map((d) => ({\n            x: d,\n            y: d === val.date ? 1 : 0,\n          })),\n        ]);\n      } else {\n        const dataPoint = usageData.find((d) => d.x === val.date);\n        if (dataPoint === undefined) {\n          acc.set(val.characterId, [\n            ...usageData.filter((d) => d.x !== val.date),\n            { x: val.date, y: 1 },\n          ]);\n        } else {\n          const updatedDataPoint = {\n            ...dataPoint,\n            y: dataPoint.y + 1,\n          };\n          acc.set(\n            val.characterId,\n            usageData.map((d) => (d.x === val.date ? updatedDataPoint : d))\n          );\n        }\n      }\n\n      return acc;\n    }, new Map<string, { x: string; y: number }[]>()),\n    ([key, value]) => ({ id: key, data: value })\n  );\n\n  return areaBumpData;\n};\n\nconst useAreaBumpData = (\n  data: SelectedCharacterBonus[]\n): AreaBumpSerie<DefaultAreaBumpDatum, AreaBumpSerieExtraProps>[] => {\n  const [areaBumpData, setAreaBumpData] = React.useState<\n    AreaBumpSerie<DefaultAreaBumpDatum, AreaBumpSerieExtraProps>[]\n  >([]);\n  const rankData = useRankTableData(data);\n\n  React.useEffect(() => {\n    const top10 = rankData.slice(0, 10);\n    const areaData = prepare(data);\n    setAreaBumpData(\n      areaData.filter((d) => top10.find((t) => t.characterName === d.id))\n    );\n  }, [data, rankData]);\n  return areaBumpData;\n};\n\nexport default useAreaBumpData;\n","import React from 'react';\nimport { Metadata, SelectedCharacterBonus, Stage } from '../../types';\nimport { BarItem } from '../types';\n\nconst getKeys = (data: Stage[]) => {\n  const keys = data.flatMap((d) => d.story);\n  return Array.from(new Set(keys));\n};\n\ninterface BarCountItem {\n  [key: string]: number;\n}\n\nconst prepare = (\n  data: SelectedCharacterBonus[],\n  metadata: Metadata\n): BarItem[] => {\n  const keys = getKeys(metadata.stages);\n  const rankData = Array.from(\n    data.reduce((acc, val) => {\n      const story =\n        metadata.stages.find((s) => s.id === val.stageId)?.story ||\n        `Stage ${val.stageId}`;\n\n      const characterName =\n        metadata.characters.find((c) => c.id === val.characterId)?.name ||\n        val.characterId;\n\n      const currentCharacterItem = acc.get(characterName);\n      if (currentCharacterItem === undefined) {\n        const barCountItem = keys.reduce((acc, current) => {\n          return {\n            ...acc,\n            [current]: current === story ? 1 : 0,\n          };\n        }, {});\n        //acc.set(characterName, { [story]: 1 });\n        acc.set(characterName, barCountItem);\n      } else {\n        const storyCharacterCount = currentCharacterItem[story] || 0;\n\n        acc.set(characterName, {\n          ...currentCharacterItem,\n          [story]: storyCharacterCount + 1,\n        });\n      }\n\n      return acc;\n    }, new Map<string, BarCountItem>()),\n    ([key, value]) => ({ characterName: key, ...value })\n  );\n\n  return rankData;\n};\n\nconst useBarChartData = (\n  data: SelectedCharacterBonus[],\n  metadata: Metadata\n): BarItem[] => {\n  const [barData, setBarData] = React.useState<BarItem[]>([]);\n\n  React.useEffect(() => {\n    if (data !== undefined) {\n      const preparedData = prepare(data, metadata);\n      setBarData(preparedData);\n    }\n  }, [data, metadata]);\n\n  return barData;\n};\n\nexport default useBarChartData;\n","import { Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport React from 'react';\nimport { FilterContext } from '../context/filterContext';\nimport { MetadataContext } from '../context/metadataContext';\nimport { SelectedCharacterBonus } from '../types';\nimport AreaBumpChart from './AreaBumpChart';\nimport BarChart from './BarChart';\nimport useAreaBumpData from './hooks/useAreaBumpData';\nimport useBarChartData from './hooks/useBarChartData';\n\nconst useStyles = makeStyles({\n  graphContainer: {\n    height: '75vh',\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  graphSkeleteon: {\n    transform: 'scale(1,1)',\n    height: '90%',\n    width: '95%',\n  },\n});\n\nconst GraphCard = ({\n  data,\n  isLoading = false,\n}: {\n  data: SelectedCharacterBonus[];\n  isLoading?: boolean;\n}) => {\n  const { state: metadataContext } = React.useContext(MetadataContext);\n  const { state: filterContext } = React.useContext(FilterContext);\n  const areaBumpData = useAreaBumpData(data);\n  const barData = useBarChartData(data, metadataContext);\n  const classes = useStyles();\n\n  const showTreemap =\n    filterContext.filters.filter((f) => f.id === 'currentMonth' && f.enabled)\n      .length >= 1;\n\n  return (\n    <Paper className={classes.graphContainer}>\n      {isLoading && <Skeleton className={classes.graphSkeleteon} />}\n      {!isLoading && !showTreemap && (\n        <AreaBumpChart areaBumpData={areaBumpData} />\n      )}\n      {!isLoading && showTreemap && <BarChart data={barData} />}\n    </Paper>\n  );\n};\n\nexport default GraphCard;\n","import {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport { BonusesCount } from './types';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 250,\n  },\n  tableContainer: {\n    height: '65vh',\n    width: '100%',\n  },\n});\n\nconst RankTable = ({ rankedData }: { rankedData: BonusesCount[] }) => {\n  const classes = useStyles();\n  return (\n    <TableContainer component={Paper} className={classes.tableContainer}>\n      <Table className={classes.table} stickyHeader>\n        <TableHead>\n          <TableRow>\n            <TableCell>Character</TableCell>\n            <TableCell align=\"right\"># of stages</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {rankedData.map((row) => (\n            <TableRow key={row.characterName}>\n              <TableCell component=\"th\" scope=\"row\">\n                {row.characterName}\n              </TableCell>\n              <TableCell align=\"right\">{row.count}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default RankTable;\n","import { Card, CardContent, CardHeader } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport React from 'react';\nimport { MetadataContext } from '../context/metadataContext';\nimport { SelectedCharacterBonus } from '../types';\nimport useRankTableData from './hooks/useRankTableData';\nimport RankTable from './RankTable';\n\nconst useStyles = makeStyles({\n  card: {\n    //height: '65vh',\n  },\n  cardContent: {\n    padding: 0,\n    '&:last-child': {\n      paddingBottom: 0,\n    },\n  },\n  left: {\n    float: 'left',\n  },\n  right: {\n    float: 'right',\n    marginRight: '1em',\n  },\n  contentContainer: {\n    paddingLeft: '1em',\n  },\n});\n\nconst RankTableCard = ({\n  data,\n  isLoading = false,\n}: {\n  data: SelectedCharacterBonus[];\n  isLoading?: boolean;\n}) => {\n  const { state } = React.useContext(MetadataContext);\n  const rankedData = useRankTableData(data, state);\n  const classes = useStyles();\n\n  return (\n    <>\n      <Card className={classes.card}>\n        <CardHeader\n          title={\n            isLoading ? (\n              <Skeleton\n                animation=\"wave\"\n                height={30}\n                width=\"80%\"\n                style={{ marginBottom: 6 }}\n              />\n            ) : (\n              'Story Mode Rank'\n            )\n          }\n        />\n        <CardContent className={classes.cardContent}>\n          {isLoading && (\n            <div className={classes.contentContainer}>\n              {[...Array(20)].map((_val, index) => (\n                <React.Fragment key={index}>\n                  <Skeleton\n                    animation=\"wave\"\n                    height={10}\n                    style={{ marginBottom: 6 }}\n                    width=\"50%\"\n                    className={classes.left}\n                  ></Skeleton>\n                  <Skeleton\n                    animation=\"wave\"\n                    height={10}\n                    width=\"10%\"\n                    className={classes.right}\n                  />\n                  <br />\n                </React.Fragment>\n              ))}\n            </div>\n          )}\n          {!isLoading && <RankTable rankedData={rankedData} />}\n        </CardContent>\n      </Card>\n    </>\n  );\n};\n\nexport default RankTableCard;\n","import { Grid } from '@material-ui/core';\nimport React from 'react';\nimport FilterSection from '../../components/FilterSection';\nimport GraphCard from '../../components/GraphCard';\nimport useFilteredData from '../../components/hooks/useFilteredData';\nimport RankTableCard from '../../components/RankTableCard';\nimport { FilterContext } from '../../context/filterContext';\nimport { SelectedCharacterBonus } from '../../types';\n\nconst StatsPage = ({\n  data,\n  isLoading,\n}: {\n  data: SelectedCharacterBonus[];\n  isLoading: boolean;\n}) => {\n  //Contexts\n  const { state: filterContext } = React.useContext(FilterContext);\n\n  const filteredData = useFilteredData(data, filterContext.filters);\n  return (\n    <>\n      <Grid container spacing={3}>\n        <Grid item lg={12}>\n          <FilterSection />\n        </Grid>\n        <Grid item xs={12} md={3}>\n          <RankTableCard data={filteredData} isLoading={isLoading} />\n        </Grid>\n        <Grid item xs={12} md={9}>\n          <GraphCard data={filteredData} isLoading={isLoading} />\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default StatsPage;\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport moment from 'moment';\nimport React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport useCharacterBonus from '../components/hooks/useCharacterBonus';\nimport useCharactersMetadata from '../components/hooks/useCharactersMetadata';\nimport useFragmentMetadata from '../components/hooks/useFragmentsMetadata';\nimport useStagesMetadata from '../components/hooks/useStagesMetadata';\nimport SiteAppBar from '../components/SiteAppBar';\nimport { FilterContext } from '../context/filterContext';\nimport { MetadataContext } from '../context/metadataContext';\nimport filters, { createFragmentFilters } from '../filters';\nimport AutoplayPage from './autoplay/AutoplayPage';\nimport ManagePage from './manage/ManagePage';\nimport StatsPage from './stats/StatsPage';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n      padding: '1em',\n    },\n  })\n);\n\nconst HomePage = () => {\n  const classes = useStyles();\n  const { dispatch, state: metadata } = React.useContext(MetadataContext);\n  const { dispatch: filterDispatch } = React.useContext(FilterContext);\n\n  //Fetch data\n  const { data: stageMetadata, isLoading: isStageMetadataLoading } =\n    useStagesMetadata();\n  const { data: characterMetadata, isLoading: isCharacterMetadataLoading } =\n    useCharactersMetadata();\n  const { data: fragmentMetadata, isLoading: isFragmentMetadataLoading } =\n    useFragmentMetadata();\n  const { data, isLoading: isDataLoading } = useCharacterBonus();\n\n  React.useEffect(() => {\n    dispatch({ type: 'calculateLastMonth', data });\n  }, [dispatch, data]);\n\n  React.useEffect(() => {\n    if (!isStageMetadataLoading) {\n      dispatch({ type: 'setStages', stages: stageMetadata });\n    }\n\n    if (!isCharacterMetadataLoading) {\n      dispatch({ type: 'setCharacters', characters: characterMetadata });\n    }\n\n    if (!isFragmentMetadataLoading && fragmentMetadata) {\n      dispatch({ type: 'setFragments', fragments: fragmentMetadata });\n    }\n  }, [\n    dispatch,\n    characterMetadata,\n    isCharacterMetadataLoading,\n    isStageMetadataLoading,\n    isFragmentMetadataLoading,\n    stageMetadata,\n    fragmentMetadata,\n  ]);\n\n  React.useEffect(() => {\n    const fragmentFilters = createFragmentFilters(fragmentMetadata || []);\n\n    filterDispatch({\n      type: 'add',\n      filters: [...filters, ...fragmentFilters],\n    });\n  }, [filterDispatch, fragmentMetadata]);\n\n  const isLoading =\n    isStageMetadataLoading &&\n    isCharacterMetadataLoading &&\n    isFragmentMetadataLoading &&\n    isDataLoading;\n\n  let title = '';\n  if (metadata.currentMonth) {\n    const currentDate = moment(metadata.currentMonth);\n    title = currentDate.format('MMM YYYY');\n  }\n\n  return (\n    <>\n      <SiteAppBar title={title} />\n      <div className={classes.root}>\n        <Routes>\n          <Route\n            path=\"/\"\n            element={<StatsPage data={data} isLoading={isLoading} />}\n          />\n          <Route\n            path=\"/autoplay\"\n            element={<AutoplayPage data={data} isLoading={isLoading} />}\n          />\n          <Route path=\"/manage\" element={<ManagePage />} />\n        </Routes>\n      </div>\n    </>\n  );\n};\n\nexport default HomePage;\n","import { SelectedCharacterBonus, StoryFragment } from '../types';\nimport filterColourMap from './filterColours';\nimport { Filter } from './types';\n\nconst createFragmentFilters = (fragments: StoryFragment[]): Filter[] => {\n  return fragments\n    .sort((a, b) => a.id - b.id)\n    .map((f) => {\n      const colour = filterColourMap[f.story];\n      return {\n        id: `fragmentFilter${f.id}`,\n        label: `${f.story} #${f.fragment}`,\n        enabled: false,\n        canDelete: true,\n        predicate: (term: SelectedCharacterBonus, data?: any) => {\n          return f.stageIds.includes(term.stageId);\n        },\n        colour,\n      };\n    });\n};\n\nexport { createFragmentFilters };\n","import { createMuiTheme } from '@material-ui/core/styles';\nimport purple from '@material-ui/core/colors/deepPurple';\nimport green from '@material-ui/core/colors/green';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: purple[500],\n    },\n    secondary: {\n      main: green[500],\n    },\n  },\n});\n\nexport default theme;\n","import React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport HomePage from './pages/HomePage';\nimport FilterProvider from './context/filterContext';\nimport MetadataProvider from './context/metadataContext';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme';\nimport { HashRouter } from 'react-router-dom';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\nconst App = () => {\n  return (\n    <>\n      <HashRouter>\n        <QueryClientProvider client={queryClient}>\n          <MetadataProvider>\n            <FilterProvider>\n              <ThemeProvider theme={theme}>\n                <HomePage />\n              </ThemeProvider>\n            </FilterProvider>\n          </MetadataProvider>\n        </QueryClientProvider>\n      </HashRouter>\n    </>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}